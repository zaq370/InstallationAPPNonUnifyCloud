@model InstallationAPPNonUnify.ViewModels.InstalledProductsViewModel
@{
    Layout = "~/Views/Shared/" + @ViewBag.Layout;
}

<div class="ai-page ia-root">
    <div class="ai-safe-scope">
        <div class="container text-center">
            <h1>Matrix Fitness Already Installed Information</h1>

            <div class="tables-wrapper">
                <div class="table-box">

                    @{
                        var hasData = Model.ProductDetail3 != null && Model.ProductDetail3.Any();
                    }

                    <table class="responsive-table @(hasData ? "" : "table-empty")">
                        <thead>
                            <tr>
                                <th>@ViewBag.CustomerProductNo</th>
                                <th>@ViewBag.ProductName</th>
                                <th>@ViewBag.ProductSN</th>
                                <th>@ViewBag.ExpectedQty</th>
                                <th>@ViewBag.InstalledQty</th>
                                <th>@ViewBag.InstallMainIssue</th>
                                <th>@ViewBag.InstallMainIssueUpload</th>
                                <th>@ViewBag.InstallMainIssueNotes</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (hasData)
                            {
                                foreach (var product in Model.ProductDetail3)
                                {
                                    var snText = string.IsNullOrWhiteSpace(product.ProductSN)
                                        ? "No Serial Number"
                                        : product.ProductSN;

                                    <tr>
                                        <td data-label="@ViewBag.CustomerProductNo">@product.ProductNo</td>
                                        <td data-label="@ViewBag.ProductName">@product.Product</td>
                                        <td data-label="@ViewBag.ProductSN" class="break-all">@snText</td>
                                        <td data-label="@ViewBag.ExpectedQty">@product.ExpectedQty</td>
                                        <td data-label="@ViewBag.InstalledQty">@product.InstalledQty</td>
                                        <td data-label="@ViewBag.InstallMainIssue">@product.InstallMainIssue</td>
                                        <td data-label="@ViewBag.InstallMainIssueUpload">@product.InstallMainIssueUpload</td>
                                        <td data-label="@ViewBag.InstallMainIssueNotes">@product.InstallMainIssueNotes</td>
                                    </tr>
                                }
                            }
                            else
                            {
                                <tr>
                                    <td colspan="8">@ViewBag.NoData</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="button-group" style="margin-top:1rem;">
                <button type="button" onclick="window.history.back()">@ViewBag.Return</button>
            </div>
        </div>
    </div>
</div>
    <script>
    (function () {
        var el = document.getElementById("jumbotronImg");
        if (el) {
            el.style.backgroundImage = "url(@Url.Content("~/Content/custom/images/CaseHeader/product-history.jpg"))";
        }
    })();
    </script>
